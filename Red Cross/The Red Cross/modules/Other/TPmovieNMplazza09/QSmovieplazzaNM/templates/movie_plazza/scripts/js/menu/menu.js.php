<?php
if (extension_loaded('zscripts') && !ini_get('zscripts.output_compression')) @ob_start('ob_gzhandler');
header('Content-type: application/x-javascript; charset: UTF-8');
header('Cache-Control: must-revalidate');
header('Expires: ' . gmdate('D, d M Y H:i:s', time() + (3600*60)) . ' GMT');
$animated = (!empty($_GET['animated'])) ? $_GET['animated'] : 'Fx.Transitions.Bounce.easeOut';
?>
if(typeof MooTools!="undefined"){var subnav=new Array;Element.extend({hide:function(a){this.status="hide";clearTimeout(this.timeout);if(a)this.timeout=setTimeout(this.anim.bind(this),a);else this.anim()},show:function(a){this.status="show";clearTimeout(this.timeout);if(a)this.timeout=setTimeout(this.anim.bind(this),a);else this.anim()},setActive:function(){this.className+="sfhover"},setDeactive:function(){this.className=this.className.replace(new RegExp("sfhover\\b"),"")},anim:function(){if(this.status=="hide"&&this.style.left!="auto"||this.status=="show"&&this.style.left=="auto"&&!this.hidding)return;this.setStyle("overflow","hidden");if(this.status=="show"){this.hidding=0;this.hideAll()}else;if(this.status=="hide"){this.hidding=1;this.myFx2.stop();this.myFx2.options.duration=0;if(this.parent._id)this.myFx2.start(0,0);else this.myFx2.start(0,0)}else{this.setStyle("left","auto");this.myFx2.stop();this.myFx2.options.duration=300;if(this.parent._id)this.myFx2.start(0,this.mw);else this.myFx2.start(0,this.mh)}},init:function(){this.mw=this.clientWidth;this.mh=this.clientHeight;if(this.parent._id){this.myFx2=new Fx.Style(this,"width",{duration:300,transition:<?php echo $animated; ?>});this.myFx2.set(0)}else{this.myFx2=new Fx.Style(this,"height",{duration:300,transition:<?php echo $animated; ?>});this.myFx2.set(0);}this.setStyle("left","-999em");animComp=function(){if(this.status=="hide"){this.setStyle("left","-999em");this.hidding=0}this.setStyle("overflow","")};this.myFx2.addEvent("onComplete",animComp.bind(this))},hideAll:function(){for(var a=0;a<subnav.length;a++)if(!this.isChild(subnav[a]))subnav[a].hide(0)},isChild:function(a){obj=this;while(obj.parent){if(obj._id==a._id)return true;obj=obj.parent}return false}});var TPMenu=new Class({initialize:function(a){$A($(a).childNodes).each(function(b){if(b.nodeName.toLowerCase()=="li"){$A($(b).childNodes).each(function(c){if(c.nodeName.toLowerCase()=="ul"){$(c)._id=subnav.length+1;$(c).parent=$(a);subnav.push($(c));c.init();b.addEvent("mouseover",function(){b.setActive();c.show(0);return false});b.addEvent("mouseout",function(){b.setDeactive();c.hide(20)});new TPMenu(c);b.hasSub=1}});if(!b.hasSub){b.addEvent("mouseover",function(){b.setActive();return false});b.addEvent("mouseout",function(){b.setDeactive()})}}});return this}});Window.onDomReady(function(){new TPMenu($("tp-cssmenu"))})}else{sfHover=function(){var a=document.getElementById("tp-cssmenu").getElementsByTagName("li");for(var b=0;b<a.length;++b){a[b].onmouseover=function(){this.className+=" sfhover"};a[b].onmouseout=function(){this.className=this.className.replace(new RegExp("sfhover\\b"),"")}}};if(window.attachEvent)window.attachEvent("onload",sfHover)}